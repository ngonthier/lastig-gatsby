{"version":3,"file":"component---src-templates-member-page-js-15385afcd67bd1a3a4e3.js","mappings":"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","sources":["webpack://lastig-gastby/./src/templates/member-page.js","webpack://lastig-gastby/./src/util.js","webpack://lastig-gastby/./node_modules/react-intl/lib/src/components/message.js"],"sourcesContent":["import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport Layout from \"../components/Layout\"\n\nimport { FormattedMessage, useIntl } from 'react-intl'\n\nimport { getPubType } from '../util'\nimport { PublicationList } from '../components/CreateNodes'\nimport { Icon } from '@iconify-icon/react';\n\nimport { StyledMemberPage, Ids } from '../components/styles/MemberPage.styled'\nimport {WordCloud} from '../components/WordCloud'\nimport { theme } from '../theme'\n\nimport { useLocalization } from \"@ericcote/gatsby-theme-i18n\"\n\nconst modifyUrl = (url) => {\n  if (url.startsWith(\"/\")) return \"https://www.umr-lastig.fr\" + url;\n  return url;\n};\nconst modifyPhotoUrl = (url) => {\n  if (!url) return \"https://www.umr-lastig.fr/lastig_data/img/abstract-user-icon.svg\";\n  return modifyUrl(url);\n};\n\nexport default function MemberPage({ data }) {\n  const node = data.peopleCsv\n  const allNodes = data.allHalCsv.nodes;\n  const filteredNodes = allNodes.filter((pubNode) => pubNode.authors.includes(node.fid));\n  const classifiedNodes = filteredNodes.map((node) => ({ pubType: getPubType(node), ...node }));\n  function Pub({ pubType }) {\n    const filteredNodesForType = classifiedNodes.filter((node) => node.pubType === pubType);\n    if (filteredNodesForType.length > 0) {\n      return <div id={`pub${pubType}`}>\n        <h2> {trans(pubType)} </h2>\n        <PublicationList nodes={filteredNodesForType} type={pubType} theme={theme} />\n      </div>;\n    }\n    return null;\n  }\n  const intl = useIntl()\n  const { locale } = useLocalization();\n  function trans(text) { return intl.formatMessage({ id: text }) }\n  function first(text) { return text.split(',')[0] }\n  return (\n    <Layout>\n      <StyledMemberPage>\n        <h1>{node.firstname} {node.alt_firstname && `(${node.alt_firstname}) `}{node.lastname}</h1>\n        <div><img src={modifyPhotoUrl(node.photo)} alt={`${node.firstname} ${node.lastname}`} /></div>\n        <h2>{(locale === 'en') ? node.status : node.statut}</h2>\n        {node.teams && <h3><FormattedMessage id=\"inteam\" values={{ teams: node.teams.join(\" & \") }} /></h3>}\n        {node.webpage && <a href={modifyUrl(node.webpage)}>{trans(\"Personal webpage\")}</a>}\n        <Ids>\n          {node.HAL && <a href={`https://cv.hal.science/${node.HAL}`} aria-label=\"HAL\"><Icon icon=\"simple-icons:hal\" width=\"2em\" height=\"2em\" /></a>}\n          {node.orcidId_s && <a href={node.orcidId_s} aria-label=\"orcid\"><Icon icon=\"simple-icons:orcid\" width=\"2em\" height=\"2em\" /></a>}\n          {node.google_scholarId_s && <a href={node.google_scholarId_s.includes('http') ? node.google_scholarId_s : `https://scholar.google.com/citations?user=${node.google_scholarId_s}`} aria-label=\"google_scholarId\"><Icon icon=\"simple-icons:googlescholar\" width=\"2em\" height=\"2em\" /></a>}\n          {node.idrefId_s && <a href={node.idrefId_s} aria-label=\"idref\"><Icon icon=\"token:id\" width=\"2em\" height=\"2em\" /></a>}\n          {node.researcheridId_s && <a href={first(node.researcheridId_s)} aria-label=\"researcherId\"><Icon icon=\"academicons:researcherid\" width=\"2em\" height=\"2em\" /> </a>}\n          {node.isniId_s && <a href={node.isniId_s} aria-label=\"isni\"><Icon icon=\"academicons:isni\" width=\"2em\" height=\"2em\" /></a>}\n          {node.viafId_s && <a href={node.viafId_s} aria-label=\"viaf\"><Icon icon=\"academicons:viaf\" width=\"2em\" height=\"2em\" /></a>}\n          {node.arxivId_s && <a href={node.arxivId_s} aria-label=\"arxiv\"><Icon icon=\"simple-icons:arxiv\" width=\"2em\" height=\"2em\" /></a>}\n        </Ids>\n        <WordCloud nodes={filteredNodes}/>\n        <h1>Publications</h1>\n        <div>\n          <Pub pubType=\"ACL\"></Pub>\n          <Pub pubType=\"ACLN\"></Pub>\n          <Pub pubType=\"ASCL\"></Pub>\n          <Pub pubType=\"PV\"></Pub>\n          <Pub pubType=\"INV\"></Pub>\n          <Pub pubType=\"COM\"></Pub>\n          <Pub pubType=\"ACTI\"></Pub>\n          <Pub pubType=\"ACTN\"></Pub>\n          <Pub pubType=\"OS\"></Pub>\n          <Pub pubType=\"DO\"></Pub>\n          <Pub pubType=\"AP\"></Pub>\n          <Pub pubType=\"TH\"></Pub>\n          <Pub pubType=\"AFF\"></Pub>\n          <Pub pubType=\"OTHER\"></Pub>\n        </div>\n      </StyledMemberPage>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query($firstName: String, $lastName: String!) {\n    peopleCsv(firstname: { eq: $firstName }, lastname: { eq: $lastName }) {\n      id\n      firstname\n      alt_firstname\n      lastname\n      photo\n      HAL\n      member\n      start_date\n      end_date\n      status\n      statut\n      teams\n      webpage\n      arxivId_s\n      google_scholarId_s\n      idrefId_s\n      isniId_s\n      orcidId_s\n      researcheridId_s\n      viafId_s\n      fid\n    }\n    allHalCsv {\n      nodes {\n          halId\n          id\n          citationRef\n          docType\n          fileMain\n          files\n          invitedCommunication\n          label_bibtex\n          popularLevel\n          proceedings\n          producedDate\n          title\n          authIdHalFullName {\n              fullName\n              idHal\n          }\n          peerReviewing\n          researchData\n          audience\n          doiId\n          softCodeRepository\n          arxivId\n          anrProjectTitle\n          europeanProjectTitle\n          publicationDate\n          teams\n          authors\n          keywords\n      }\n    }\n  }\n`\n","export function getPubType(node) {\n    if (node.popularLevel === \"1\") return \"PV\";\n    if (node.popularLevel === \"0\" && node.docType === \"ART\" && node.peerReviewing === \"0\") return \"ASCL\";\n    if (node.popularLevel === \"0\" && node.docType === \"ART\" && node.peerReviewing === \"1\" && node.audience === \"2\") return \"ACL\";\n    if (node.popularLevel === \"0\" && node.docType === \"ART\" && node.peerReviewing === \"1\") return \"ACLN\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"1\") return \"INV\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"0\" && node.proceedings === \"0\") return \"COM\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"0\" && node.proceedings === \"1\" && node.audience === \"2\") return \"ACTI\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"0\" && node.proceedings === \"1\") return \"ACTN\";\n    if (node.docType === \"COUV\") return \"OS\";\n    if (node.docType === \"DOUV\") return \"DO\";\n    if (node.docType === \"REPORT\" || node.docType === \"UNDEFINED\") return \"AP\";\n    if (node.docType === \"THESE\" || node.docType === \"HDR\") return \"TH\";\n    if (node.docType === \"POSTER\") return \"AFF\";\n    return \"OTHER\";\n}\n","/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport useIntl from './useIntl';\nimport { shallowEqual } from '../utils';\nfunction areEqual(prevProps, nextProps) {\n    var values = prevProps.values, otherProps = __rest(prevProps, [\"values\"]);\n    var nextValues = nextProps.values, nextOtherProps = __rest(nextProps, [\"values\"]);\n    return (shallowEqual(nextValues, values) &&\n        shallowEqual(otherProps, nextOtherProps));\n}\nfunction FormattedMessage(props) {\n    var intl = useIntl();\n    var formatMessage = intl.formatMessage, _a = intl.textComponent, Text = _a === void 0 ? React.Fragment : _a;\n    var id = props.id, description = props.description, defaultMessage = props.defaultMessage, values = props.values, children = props.children, _b = props.tagName, Component = _b === void 0 ? Text : _b, ignoreTag = props.ignoreTag;\n    var descriptor = { id: id, description: description, defaultMessage: defaultMessage };\n    var nodes = formatMessage(descriptor, values, {\n        ignoreTag: ignoreTag,\n    });\n    if (typeof children === 'function') {\n        return children(Array.isArray(nodes) ? nodes : [nodes]);\n    }\n    if (Component) {\n        return React.createElement(Component, null, React.Children.toArray(nodes));\n    }\n    return React.createElement(React.Fragment, null, nodes);\n}\nFormattedMessage.displayName = 'FormattedMessage';\nvar MemoizedFormattedMessage = React.memo(FormattedMessage, areEqual);\nMemoizedFormattedMessage.displayName = 'MemoizedFormattedMessage';\nexport default MemoizedFormattedMessage;\n"],"names":["modifyUrl","url","startsWith","modifyPhotoUrl","MemberPage","_ref","data","node","peopleCsv","filteredNodes","allHalCsv","nodes","filter","pubNode","authors","includes","fid","classifiedNodes","map","pubType","getPubType","Pub","_ref2","filteredNodesForType","length","React","id","trans","PublicationList","type","theme","intl","useIntl","locale","useLocalization","text","formatMessage","Layout","StyledMemberPage","firstname","alt_firstname","lastname","src","photo","alt","status","statut","teams","FormattedMessage","values","join","webpage","href","Ids","HAL","Icon","icon","width","height","orcidId_s","google_scholarId_s","idrefId_s","researcheridId_s","split","isniId_s","viafId_s","arxivId_s","WordCloud","popularLevel","docType","peerReviewing","audience","invitedCommunication","proceedings","props","_a","textComponent","Text","description","defaultMessage","children","_b","tagName","Component","ignoreTag","Array","isArray","toArray","displayName","MemoizedFormattedMessage","prevProps","nextProps","otherProps","nextValues","nextOtherProps"],"sourceRoot":""}