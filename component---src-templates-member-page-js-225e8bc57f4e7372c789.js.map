{"version":3,"file":"component---src-templates-member-page-js-225e8bc57f4e7372c789.js","mappings":"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","sources":["webpack://lastig-gastby/./src/templates/member-page.js","webpack://lastig-gastby/./src/util.js","webpack://lastig-gastby/./node_modules/react-intl/lib/src/components/message.js"],"sourcesContent":["import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport Layout from \"../components/Layout\"\n\nimport { FormattedMessage, useIntl } from 'react-intl'\n\nimport { getPubType } from '../util'\nimport { PublicationList } from '../components/CreateNodes'\nimport { Icon } from '@iconify-icon/react';\n\nimport { StyledMemberPage, Ids } from '../components/styles/MemberPage.styled'\nimport {WordCloud} from '../components/WordCloud'\nimport { theme } from '../theme'\n\nimport { useLocalization } from \"@ericcote/gatsby-theme-i18n\"\n\nconst modifyUrl = (url) => {\n  if (url.startsWith(\"/\")) return \"https://www.umr-lastig.fr\" + url;\n  return url;\n};\nconst modifyPhotoUrl = (url) => {\n  if (!url) return \"https://www.umr-lastig.fr/lastig_data/img/abstract-user-icon.svg\";\n  return modifyUrl(url);\n};\n\nexport default function MemberPage({ data }) {\n  const node = data.peopleCsv\n  const allNodes = data.allHalCsv.nodes;\n  const filteredNodes = allNodes.filter((pubNode) => pubNode.authors.includes(node.id));\n  const classifiedNodes = filteredNodes.map((node) => ({ pubType: getPubType(node), ...node }));\n  function Pub({ pubType }) {\n    const filteredNodesForType = classifiedNodes.filter((node) => node.pubType === pubType);\n    if (filteredNodesForType.length > 0) {\n      return <div id={`pub${pubType}`}>\n        <h2> {trans(pubType)} </h2>\n        <PublicationList nodes={filteredNodesForType} type={pubType} theme={theme} />\n      </div>;\n    }\n    return null;\n  }\n  const intl = useIntl()\n  const { locale } = useLocalization();\n  function trans(text) { return intl.formatMessage({ id: text }) }\n  function first(text) { return text.split(',')[0] }\n  return (\n    <Layout>\n      <StyledMemberPage>\n        <h1>{node.firstname} {node.alt_firstname && `(${node.alt_firstname}) `}{node.lastname}</h1>\n        <div><img src={modifyPhotoUrl(node.photo)} alt={`${node.firstname} ${node.lastname}`} /></div>\n        <h2>{(locale === 'en') ? node.status : node.statut}</h2>\n        {node.team && <h3><FormattedMessage id=\"inteam\" values={{ team: node.team }} /></h3>}\n        {node.webpage && <a href={modifyUrl(node.webpage)}>{trans(\"Personal webpage\")}</a>}\n        <Ids>\n          {node.HAL && <a href={`https://cv.hal.science/${node.HAL}`} aria-label=\"HAL\"><Icon icon=\"simple-icons:hal\" width=\"2em\" height=\"2em\" /></a>}\n          {node.orcidId_s && <a href={node.orcidId_s} aria-label=\"orcid\"><Icon icon=\"simple-icons:orcid\" width=\"2em\" height=\"2em\" /></a>}\n          {node.google_scholarId_s && <a href={node.google_scholarId_s.includes('http') ? node.google_scholarId_s : `https://scholar.google.com/citations?user=${node.google_scholarId_s}`} aria-label=\"google_scholarId\"><Icon icon=\"simple-icons:googlescholar\" width=\"2em\" height=\"2em\" /></a>}\n          {node.idrefId_s && <a href={node.idrefId_s} aria-label=\"idref\"><Icon icon=\"token:id\" width=\"2em\" height=\"2em\" /></a>}\n          {node.researcheridId_s && <a href={first(node.researcheridId_s)} aria-label=\"researcherId\"><Icon icon=\"academicons:researcherid\" width=\"2em\" height=\"2em\" /> </a>}\n          {node.isniId_s && <a href={node.isniId_s} aria-label=\"isni\"><Icon icon=\"academicons:isni\" width=\"2em\" height=\"2em\" /></a>}\n          {node.viafId_s && <a href={node.viafId_s} aria-label=\"viaf\"><Icon icon=\"academicons:viaf\" width=\"2em\" height=\"2em\" /></a>}\n          {node.arxivId_s && <a href={node.arxivId_s} aria-label=\"arxiv\"><Icon icon=\"simple-icons:arxiv\" width=\"2em\" height=\"2em\" /></a>}\n        </Ids>\n        <WordCloud nodes={filteredNodes}/>\n        <h1>Publications</h1>\n        <div>\n          <Pub pubType=\"ACL\"></Pub>\n          <Pub pubType=\"ACLN\"></Pub>\n          <Pub pubType=\"ASCL\"></Pub>\n          <Pub pubType=\"PV\"></Pub>\n          <Pub pubType=\"INV\"></Pub>\n          <Pub pubType=\"COM\"></Pub>\n          <Pub pubType=\"ACTI\"></Pub>\n          <Pub pubType=\"ACTN\"></Pub>\n          <Pub pubType=\"OS\"></Pub>\n          <Pub pubType=\"DO\"></Pub>\n          <Pub pubType=\"AP\"></Pub>\n          <Pub pubType=\"TH\"></Pub>\n          <Pub pubType=\"AFF\"></Pub>\n          <Pub pubType=\"OTHER\"></Pub>\n        </div>\n      </StyledMemberPage>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query($firstName: String, $lastName: String!) {\n    peopleCsv(firstname: { eq: $firstName }, lastname: { eq: $lastName }) {\n      id\n      firstname\n      alt_firstname\n      lastname\n      photo\n      HAL\n      member\n      start_date\n      end_date\n      status\n      statut\n      team\n      webpage\n      arxivId_s\n      google_scholarId_s\n      idrefId_s\n      isniId_s\n      orcidId_s\n      researcheridId_s\n      viafId_s\n    }\n    allHalCsv {\n      nodes {\n          halId\n          id\n          citationRef\n          docType\n          fileMain\n          files\n          invitedCommunication\n          label_bibtex\n          popularLevel\n          proceedings\n          producedDate\n          title\n          authIdHalFullName {\n              fullName\n              idHal\n          }\n          peerReviewing\n          researchData\n          audience\n          doiId\n          softCodeRepository\n          arxivId\n          anrProjectTitle\n          europeanProjectTitle\n          publicationDate\n          teams\n          authors\n          keywords\n      }\n    }\n  }\n`\n","export function getPubType(node) {\n    if (node.popularLevel === \"1\") return \"PV\";\n    if (node.popularLevel === \"0\" && node.docType === \"ART\" && node.peerReviewing === \"0\") return \"ASCL\";\n    if (node.popularLevel === \"0\" && node.docType === \"ART\" && node.peerReviewing === \"1\" && node.audience === \"2\") return \"ACL\";\n    if (node.popularLevel === \"0\" && node.docType === \"ART\" && node.peerReviewing === \"1\") return \"ACLN\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"1\") return \"INV\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"0\" && node.proceedings === \"0\") return \"COM\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"0\" && node.proceedings === \"1\" && node.audience === \"2\") return \"ACTI\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"0\" && node.proceedings === \"1\") return \"ACTN\";\n    if (node.docType === \"COUV\") return \"OS\";\n    if (node.docType === \"DOUV\") return \"DO\";\n    if (node.docType === \"REPORT\" || node.docType === \"UNDEFINED\") return \"AP\";\n    if (node.docType === \"THESE\" || node.docType === \"HDR\") return \"TH\";\n    if (node.docType === \"POSTER\") return \"AFF\";\n    return \"OTHER\";\n}\n","/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport useIntl from './useIntl';\nimport { shallowEqual } from '../utils';\nfunction areEqual(prevProps, nextProps) {\n    var values = prevProps.values, otherProps = __rest(prevProps, [\"values\"]);\n    var nextValues = nextProps.values, nextOtherProps = __rest(nextProps, [\"values\"]);\n    return (shallowEqual(nextValues, values) &&\n        shallowEqual(otherProps, nextOtherProps));\n}\nfunction FormattedMessage(props) {\n    var intl = useIntl();\n    var formatMessage = intl.formatMessage, _a = intl.textComponent, Text = _a === void 0 ? React.Fragment : _a;\n    var id = props.id, description = props.description, defaultMessage = props.defaultMessage, values = props.values, children = props.children, _b = props.tagName, Component = _b === void 0 ? Text : _b, ignoreTag = props.ignoreTag;\n    var descriptor = { id: id, description: description, defaultMessage: defaultMessage };\n    var nodes = formatMessage(descriptor, values, {\n        ignoreTag: ignoreTag,\n    });\n    if (typeof children === 'function') {\n        return children(Array.isArray(nodes) ? nodes : [nodes]);\n    }\n    if (Component) {\n        return React.createElement(Component, null, React.Children.toArray(nodes));\n    }\n    return React.createElement(React.Fragment, null, nodes);\n}\nFormattedMessage.displayName = 'FormattedMessage';\nvar MemoizedFormattedMessage = React.memo(FormattedMessage, areEqual);\nMemoizedFormattedMessage.displayName = 'MemoizedFormattedMessage';\nexport default MemoizedFormattedMessage;\n"],"names":["modifyUrl","url","startsWith","modifyPhotoUrl","MemberPage","_ref","data","node","peopleCsv","filteredNodes","allHalCsv","nodes","filter","pubNode","authors","includes","id","classifiedNodes","map","pubType","getPubType","Pub","_ref2","filteredNodesForType","length","React","trans","PublicationList","type","theme","intl","useIntl","locale","useLocalization","text","formatMessage","Layout","StyledMemberPage","firstname","alt_firstname","lastname","src","photo","alt","status","statut","team","FormattedMessage","values","webpage","href","Ids","HAL","Icon","icon","width","height","orcidId_s","google_scholarId_s","idrefId_s","researcheridId_s","split","isniId_s","viafId_s","arxivId_s","WordCloud","popularLevel","docType","peerReviewing","audience","invitedCommunication","proceedings","props","_a","textComponent","Text","description","defaultMessage","children","_b","tagName","Component","ignoreTag","Array","isArray","toArray","displayName","MemoizedFormattedMessage","prevProps","nextProps","otherProps","nextValues","nextOtherProps"],"sourceRoot":""}