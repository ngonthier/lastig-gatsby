"use strict";(self.webpackChunklastig_gastby=self.webpackChunklastig_gastby||[]).push([[747],{6516:function(e,t,a){a.r(t),a.d(t,{Head:function(){return N},default:function(){return L}});var n=a(6540),l=a(379),s=a(7528),r=a(7154),i=a(6118);const o="label";function d(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function c(e,t){e.labels=t}function u(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;const n=[];e.datasets=t.map((t=>{const l=e.datasets.find((e=>e[a]===t[a]));return l&&t.data&&!n.includes(l)?(n.push(l),Object.assign(l,t),l):{...t}}))}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const a={labels:[],datasets:[]};return c(a,e.labels),u(a,e.datasets,t),a}function f(e,t){const{height:a=150,width:l=300,redraw:s=!1,datasetIdKey:r,type:o,data:f,options:p,plugins:g=[],fallbackContent:h,updateMode:b,...E}=e,v=(0,n.useRef)(null),y=(0,n.useRef)(),w=()=>{v.current&&(y.current=new i.t1(v.current,{type:o,data:m(f,r),options:p&&{...p},plugins:g}),d(t,y.current))},x=()=>{d(t,null),y.current&&(y.current.destroy(),y.current=null)};return(0,n.useEffect)((()=>{!s&&y.current&&p&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(y.current,p)}),[s,p]),(0,n.useEffect)((()=>{!s&&y.current&&c(y.current.config.data,f.labels)}),[s,f.labels]),(0,n.useEffect)((()=>{!s&&y.current&&f.datasets&&u(y.current.config.data,f.datasets,r)}),[s,f.datasets]),(0,n.useEffect)((()=>{y.current&&(s?(x(),setTimeout(w)):y.current.update(b))}),[s,p,f.labels,f.datasets,b]),(0,n.useEffect)((()=>{y.current&&(x(),setTimeout(w))}),[o]),(0,n.useEffect)((()=>(w(),()=>x())),[]),n.createElement("canvas",Object.assign({ref:v,role:"img",height:a,width:l},E),h)}const p=(0,n.forwardRef)(f);function g(e,t){return i.t1.register(t),(0,n.forwardRef)(((t,a)=>n.createElement(p,Object.assign({},t,{ref:a,type:e}))))}const h=g("bar",i.A6);var b=e=>{let{chartData:t}=e;return n.createElement("div",{className:"chart-container"},n.createElement(h,{data:t,options:{plugins:{title:{display:!0,text:"Datasets"},legend:{display:!1}},scales:{x:{display:!0},y:{display:!0,type:"logarithmic"}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var a=0;a<e.data.datasets.length;a++)t.push('<li><div class="legendValue"><span style="background-color:'+e.data.datasets[a].backgroundColor+'">&nbsp;&nbsp;&nbsp;&nbsp;</span>'),e.data.datasets[a].label&&t.push('<span class="label">'+e.data.datasets[a].label+"</span>"),t.push('</div></li><div class="clear"></div>');return t.push("</ul>"),t.join("")}}}))},E=a(7065),v=a(7581);const y=v.default.div.withConfig({displayName:"Datasetsstyled__DatasetLegend",componentId:"sc-btd3x-0"})(["display:flex;flex-direction:row;gap:1.5rem;margin:2rem;text-decoration:none;justify-content:space-between;"]),w=v.default.div.withConfig({displayName:"Datasetsstyled__DatasetLegendItem",componentId:"sc-btd3x-1"})(["width:200px;background-color:",";border-radius:1rem;padding:1rem;"],(e=>{let{theme:t,$dataTheme:a}=e;return t.colors[a]})),x=v.default.div.withConfig({displayName:"Datasetsstyled__DatasetList",componentId:"sc-btd3x-2"})(["display:flex;flex-direction:column;gap:1.5rem;margin-top:2rem;margin-bottom:2rem;text-decoration:none;"]),D=v.default.div.withConfig({displayName:"Datasetsstyled__Dataset",componentId:"sc-btd3x-3"})(["border-radius:1rem;border:2px solid black;padding:1rem;margin:auto;width:80%;text-decoration:inherit;"]),C=v.default.div.withConfig({displayName:"Datasetsstyled__DatasetHead",componentId:"sc-btd3x-4"})(["display:flex;flex-direction:row;justify-content:space-between;text-decoration:inherit;div{font-size:1.25rem;text-decoration:inherit;a{text-decoration:inherit;}}div:last-child{font-size:1rem;background-color:",";border-radius:1rem;padding:1rem;translate:0 -40px;}"],(e=>{let{theme:t,$dataTheme:a}=e;return t.colors[a]})),_=v.default.div.withConfig({displayName:"Datasetsstyled__DatasetInfo",componentId:"sc-btd3x-5"})(["display:flex;flex-direction:row;justify-content:space-between;text-decoration:inherit;div{text-decoration:inherit;a{text-decoration:inherit;}}"]),k=v.default.div.withConfig({displayName:"Datasetsstyled__Downloads",componentId:"sc-btd3x-6"})(["font-size:1rem;background-color:black;color:white;border-radius:1rem;padding:1rem;font-family:avenir,sans-serif;height:23px;"]);var j=a(6442),I=a(2794),T=a(6358),$=a(5260),A=a(2532);function L(e){let{data:t,pageContext:a}=e;const s=a.team,r=s.length>1;console.log(`Dataset PAGE : ${s} => ${r}`);const i=(0,j.A)();function o(e){return i.formatMessage({id:e})}t.allDatasetCsv.nodes.sort((function(e,t){return t.downloads-e.downloads}));const{0:d}=(0,n.useState)({labels:t.allDatasetCsv.nodes.map((e=>`${e.short_name}`)),datasets:[{label:"Datasets downloads",data:t.allDatasetCsv.nodes.map((e=>e.downloads)),backgroundColor:t.allDatasetCsv.nodes.map((e=>E.w.colors[e.theme]))}]});function c(e){let{project:t}=e;return t?n.createElement("div",null,"Project: ",n.createElement("b",null,t)):n.createElement("div",null)}function u(e){let{doi:t}=e;return t?n.createElement("div",null,n.createElement("a",{href:`https://www.doi.org/${t}`,"aria-label":"doi"},n.createElement(I.In,{icon:"academicons:doi",width:"2em",height:"2em"}))):n.createElement("div",null)}function m(e){let{teams:t}=e;return t?n.createElement("div",null,"Team(s): ",n.createElement("b",null,t.join(", "))):n.createElement("div",null)}function f(e){let{doi:a}=e;if(!a)return n.createElement("div",null);const l=t.allHalCsv.nodes.filter((e=>e.researchData&&e.researchData.some((e=>e.includes(a)))));return n.createElement("div",null,n.createElement($.X,{nodes:l,type:null,theme:E.w}))}return n.createElement(l.A,{pageTitle:`${r?"LASTIG":s} Datasets`},n.createElement("h1",null,o(`${r?"LASTIG":s} Datasets`)),!r&&n.createElement(T.j,{title:s,menus:t.site.siteMetadata.menus[s],team:s}),n.createElement("div",null,n.createElement(y,null,["Agriculture","DigitalHumanities","Tourism","Planning","Urban","LULC","Security","Climate"].map((e=>n.createElement(w,{$dataTheme:e},n.createElement("b",null,e))))),n.createElement(b,{chartData:d})),n.createElement(x,null,t.allDatasetCsv.nodes.map((e=>n.createElement(D,{key:e.id},n.createElement(C,{$dataTheme:e.theme},n.createElement("div",null,n.createElement("a",{href:e.url},e.name)),n.createElement("div",null,e.theme)),n.createElement(_,null,n.createElement(A.G,{image:(0,A.c)(e.image),alt:e.short_name}),n.createElement(u,{doi:e.doi}),n.createElement(c,{project:e.project}),n.createElement(m,{teams:e.teams}),n.createElement(k,null,o("Downloads:")," ",n.createElement("b",null,e.downloads))),n.createElement(f,{doi:e.doi}))))))}r.Ay.register(i.PP);const N=e=>{let{pageContext:t}=e;return n.createElement(s.A,{title:`${t.team.length>1?"LASTIG":t.team} Datasets`})}}}]);
//# sourceMappingURL=component---src-templates-datasets-js-040103eedd33d4c7ca38.js.map