{"version":3,"file":"component---src-templates-publications-js-f15e53221d7ea5737132.js","mappings":"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","sources":["webpack://lastig-gastby/./src/components/seo.js","webpack://lastig-gastby/./src/templates/publications.js","webpack://lastig-gastby/./src/util.js"],"sourcesContent":["import * as React from 'react'\nimport { graphql, useStaticQuery } from 'gatsby'\n\nconst Seo = ({ title }) => {\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `)\n\n  return (\n    <title>{title} | {data.site.siteMetadata.title}</title>\n  )\n}\n\nexport default Seo","import React from 'react'\nimport { graphql } from 'gatsby'\nimport Layout from '../components/Layout'\nimport Seo from '../components/seo'\nimport { useIntl } from 'react-intl'\nimport { PublicationListOfLists } from '../components/styles/Publications.styled'\nimport { getPubType } from '../util'\nimport { PublicationList } from '../components/CreateNodes'\nimport { NavBar } from '../components/NavBar'\nimport {theme} from '../theme'\n\nexport default function PublicationsPage({ data, pageContext }) {\n    const team = pageContext.team\n    const isLastigPage = (team.length > 1)\n    console.log(`Publication PAGE : ${team} => ${isLastigPage}`)\n    const intl = useIntl()\n    function trans(text) { return intl.formatMessage({ id: text }) }\n    const nodes = data.allHalCsv.nodes;\n    const classifiedNodes = nodes.map((node) => ({ pubType: getPubType(node), ...node }));\n    function Pub({ pubType }) {\n        const filteredNodes = classifiedNodes.filter((node) => node.pubType === pubType);\n        if (filteredNodes.length > 0) {\n            return (\n                <div key={`pub${pubType}`}>\n                    <h2> {trans(pubType)} </h2>\n                    <PublicationList nodes = {filteredNodes} type={pubType} theme={theme}/>\n                </div>\n            );\n        }\n        return null;\n    }\n    return (\n        <Layout pageTitle={`${isLastigPage ? 'LASTIG' : team} Publications`}>\n            <h1>{trans(`${isLastigPage ? 'LASTIG' : team} Publications`)}</h1>\n            {(!isLastigPage) && <NavBar title={team} menus = {data.site.siteMetadata.menus[team]} team={team}/>}\n            <PublicationListOfLists>\n                <Pub pubType=\"ACL\" key=\"ACL\"></Pub>\n                <Pub pubType=\"ACLN\" key=\"ACLN\"></Pub>\n                <Pub pubType=\"ASCL\" key=\"ASCL\"></Pub>\n                <Pub pubType=\"PV\" key=\"PV\"></Pub>\n                <Pub pubType=\"INV\" key=\"INV\"></Pub>\n                <Pub pubType=\"COM\" key=\"COM\"></Pub>\n                <Pub pubType=\"ACTI\" key=\"ACTI\"></Pub>\n                <Pub pubType=\"ACTN\" key=\"ACTN\"></Pub>\n                <Pub pubType=\"OS\" key=\"OS\"></Pub>\n                <Pub pubType=\"DO\" key=\"DO\"></Pub>\n                <Pub pubType=\"AP\" key=\"AP\"></Pub>\n                <Pub pubType=\"TH\" key=\"TH\"></Pub>\n                <Pub pubType=\"AFF\" key=\"AFF\"></Pub>\n                <Pub pubType=\"OTHER\" key=\"OTHER\"></Pub>\n            </PublicationListOfLists>\n        </Layout>\n    )\n}\n\nexport const query = graphql`\n    query ($team: [String]) {\n        allHalCsv(filter: { teams: { in: $team } }) {\n            nodes {\n                halId\n                id\n                citationRef\n                docType\n                fileMain\n                files\n                invitedCommunication\n                label_bibtex\n                popularLevel\n                proceedings\n                producedDate\n                title\n                authIdHalFullName {\n                    fullName\n                    idHal\n                }\n                peerReviewing\n                researchData\n                audience\n                doiId\n                softCodeRepository\n                arxivId\n                anrProjectTitle\n                europeanProjectTitle\n                publicationDate\n                teams\n            }\n        }\n        site {\n            siteMetadata {\n                menuLinks {\n                    link\n                    name\n                    subMenu {\n                        link\n                        name\n                        subMenu {\n                            link\n                            name\n                        }\n                    }\n                }\n                menus {\n                    ACTE {\n                        link\n                        name\n                        subMenu {\n                        link\n                        name\n                        }\n                    }\n                    GEOVIS {\n                        link\n                        name\n                        subMenu {\n                        link\n                        name\n                        }\n                    }\n                    MEIG {\n                        link\n                        name\n                        subMenu {\n                        link\n                        name\n                        }\n                    }\n                    STRUDEL {\n                        link\n                        name\n                        subMenu {\n                        link\n                        name\n                        }\n                    }\n                }\n            }\n        }\n    }\n`\n\nexport const Head = ({pageContext}) => <Seo title={`${pageContext.team.length > 1 ? 'LASTIG' : pageContext.team} Publications`} />\n","export function getPubType(node) {\n    if (node.popularLevel === \"1\") return \"PV\";\n    if (node.popularLevel === \"0\" && node.docType === \"ART\" && node.peerReviewing === \"0\") return \"ASCL\";\n    if (node.popularLevel === \"0\" && node.docType === \"ART\" && node.peerReviewing === \"1\" && node.audience === \"2\") return \"ACL\";\n    if (node.popularLevel === \"0\" && node.docType === \"ART\" && node.peerReviewing === \"1\") return \"ACLN\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"1\") return \"INV\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"0\" && node.proceedings === \"0\") return \"COM\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"0\" && node.proceedings === \"1\" && node.audience === \"2\") return \"ACTI\";\n    if (node.popularLevel === \"0\" && node.docType === \"COMM\" && node.invitedCommunication === \"0\" && node.proceedings === \"1\") return \"ACTN\";\n    if (node.docType === \"COUV\") return \"OS\";\n    if (node.docType === \"DOUV\") return \"DO\";\n    if (node.docType === \"REPORT\" || node.docType === \"UNDEFINED\") return \"AP\";\n    if (node.docType === \"THESE\" || node.docType === \"HDR\") return \"TH\";\n    if (node.docType === \"POSTER\") return \"AFF\";\n    return \"OTHER\";\n}\n"],"names":["_ref","title","data","useStaticQuery","React","site","siteMetadata","PublicationsPage","pageContext","team","isLastigPage","length","console","log","intl","useIntl","trans","text","formatMessage","id","classifiedNodes","allHalCsv","nodes","map","node","pubType","getPubType","Pub","_ref2","filteredNodes","filter","key","PublicationList","type","theme","Layout","pageTitle","NavBar","menus","PublicationListOfLists","Head","_ref3","Seo","popularLevel","docType","peerReviewing","audience","invitedCommunication","proceedings"],"sourceRoot":""}